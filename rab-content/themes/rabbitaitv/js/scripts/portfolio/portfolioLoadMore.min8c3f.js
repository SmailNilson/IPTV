(m=>{rabbitaitvThemeModule.$document.on("wdPortfolioPjaxComplete",function(){rabbitaitvThemeModule.portfolioLoadMore()}),m.each(["frontend/element_ready/wd_portfolio.default"],function(o,e){rabbitaitvThemeModule.wdElementorAddAction(e,function(){rabbitaitvThemeModule.portfolioLoadMore()})}),rabbitaitvThemeModule.portfolioLoadMore=function(){var s;"function"==typeof m.fn.waypoint&&(m(".wd-portfolio-load-more.load-on-scroll").waypoint(function(){m(".wd-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"}),s=!1,m(".wd-portfolio-load-more").on("click",function(o){o.preventDefault();var t,e,a,d,r,n,l,i=m(this);s||i.hasClass("no-more-posts")||(s=!0,e="rabbitaitv_get_portfolio_"+(o=(t=i.parent().parent().find(".wd-projects")).data("source")),a=rabbitaitv_settings.ajaxurl,d="POST",l=t.data("atts"),n=t.data("paged"),i.addClass("loading"),t.addClass("wd-loading"),l={atts:l,paged:n,action:e},"main_loop"===o&&(a=i.attr("href"),d="GET",l={}),m.ajax({url:a,data:l,dataType:"json",method:d,success:function(e){rabbitaitvThemeModule.removeDuplicatedStylesFromHTML(e.items,function(o){o=m(o);o&&(t.hasClass("wd-masonry")?(t.append(o).isotope("appended",o),t.imagesLoaded().progress(function(){t.isotope("layout"),clearTimeout(r),r=setTimeout(function(){m(".wd-portfolio-load-more.load-on-scroll").waypoint(function(){m(".wd-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"})},1e3)})):t.append(o),t.data("paged",n+1),i.attr("href",e.nextPage),"yes"===rabbitaitv_settings.load_more_button_page_url_opt)&&"no"!==rabbitaitv_settings.load_more_button_page_url&&e.currentPage&&window.history.pushState("","",e.currentPage),rabbitaitvThemeModule.$document.trigger("wdPortfolioLoadMoreLoaded"),"no-more-posts"===e.status&&(i.addClass("no-more-posts"),i.hide())})},error:function(){console.log("ajax error")},complete:function(){i.removeClass("loading"),t.removeClass("wd-loading"),s=!1}}))}))},m(document).ready(function(){rabbitaitvThemeModule.portfolioLoadMore()})})(jQuery);